{% extends 'cinema/base.html' %}
{% block title %}Home - MovieTix{% endblock %}

{% block content %}

<!-- ================= FEATURED CAROUSEL ================= -->
<div id="featureCarousel"
     class="carousel slide carousel-fade mb-5"
     data-bs-ride="carousel"
     data-bs-interval="2500"
     data-bs-pause="false">

    <div class="carousel-inner">
        {% for m in featured %}
        <div class="carousel-item {% if forloop.first %}active{% endif %}">
            <img src="{{ m.poster.url }}"
                 class="d-block w-100 carousel-img"
                 alt="{{ m.title }} poster">

            <!-- Overlay -->
            <div class="carousel-overlay">
                <div class="carousel-content">
                    <h2 class="carousel-title">{{ m.title }}</h2>
                    <a href="{% url 'movie_detail' m.id %}"
                       class="btn btn-gold">
                        üéü Book Now
                    </a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>

    <!-- Controls -->
    <button class="carousel-control-prev" type="button"
            data-bs-target="#featureCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon"></span>
    </button>

    <button class="carousel-control-next" type="button"
            data-bs-target="#featureCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon"></span>
    </button>
</div>

<!-- ================= MOVIE GRID ================= -->
<div class="container mb-5">
    <h2 class="text-warning text-center mb-4">Now Showing</h2>

    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
        {% for movie in movies %}
        <div class="col">
            <div class="card h-100">
                <img src="{{ movie.poster.url }}"
                     class="card-img-top movie-poster"
                     alt="{{ movie.title }} poster">

                <div class="card-body d-flex flex-column">
                    <h5 class="card-title">{{ movie.title }}</h5>
                    <p>‚è± {{ movie.duration }} mins</p>
                    <p>‚≠ê {{ movie.rating }}</p>
                    <p class="fw-bold">‚Çπ {{ movie.mrp }}</p>

                    <a href="{% url 'movie_detail' movie.id %}"
                       class="btn btn-warning mt-auto w-100">
                        View & Book
                    </a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<!-- ================= CUSTOMER REVIEWS ================= -->
<section class="reviews-section py-5">
    <div class="container">
        <h2 class="text-warning text-center mb-4">What Our Customers Say</h2>

        <div id="reviewCarousel"
             class="carousel slide carousel-fade"
             data-bs-ride="carousel"
             data-bs-interval="3000"
             data-bs-pause="false">

            <div class="carousel-inner text-center">
                <div class="carousel-item active">
                    <p class="review-text">‚ÄúSmooth booking and amazing UI!‚Äù</p>
                    <h6 class="review-user">‚Äî Rahul, Hyderabad</h6>
                </div>

                <div class="carousel-item">
                    <p class="review-text">‚ÄúBest ticket booking experience.‚Äù</p>
                    <h6 class="review-user">‚Äî Ananya, Bengaluru</h6>
                </div>

                <div class="carousel-item">
                    <p class="review-text">‚ÄúFast, clean and premium feel.‚Äù</p>
                    <h6 class="review-user">‚Äî Karthik, Chennai</h6>
                </div>

                <div class="carousel-item">
                    <p class="review-text">‚ÄúLoved the UI and smooth flow.‚Äù</p>
                    <h6 class="review-user">‚Äî Sathvik, Hyderabad</h6>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ================= WHY CHOOSE ================= -->
<section class="why-choose py-5">
    <div class="container">
        <h2 class="text-warning text-center mb-5">Why Choose MovieTix</h2>

        <div class="row text-center g-4">
            <div class="col-md-3">
                <div class="choose-box">
                    üéü
                    <h6>Easy Booking</h6>
                    <p>Book tickets in seconds</p>
                </div>
            </div>

            <div class="col-md-3">
                <div class="choose-box">
                    üí∫
                    <h6>Seat Selection</h6>
                    <p>Choose seats visually</p>
                </div>
            </div>

            <div class="col-md-3">
                <div class="choose-box">
                    üí≥
                    <h6>Secure Payments</h6>
                    <p>Safe & reliable</p>
                </div>
            </div>

            <div class="col-md-3">
                <div class="choose-box">
                    ‚≠ê
                    <h6>Premium UI</h6>
                    <p>Designed for movie lovers</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ================= HOME INFO ================= -->
<section class="home-info py-5">
    <div class="container">
        <div class="row g-4">
            <div class="col-md-4">
                <h5 class="info-title">üé¨ About MovieTix</h5>
                <p class="info-text">
                    Premium online movie ticket booking platform.
                </p>
            </div>

            <div class="col-md-4">
                <h5 class="info-title">üìç Address</h5>
                <p class="info-text">Banjara Hills, Hyderabad</p>
            </div>

            <div class="col-md-4">
                <h5 class="info-title">‚òé Support</h5>
                <p class="info-text">
                    support@movietix.com<br>
                    +91 98765 43210
                </p>
            </div>
        </div>
    </div>
</section>

{% endblock %}
